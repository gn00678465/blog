---
title: 函式 function
date: 2019-12-16 10:52:14
categories:
- JavaScript
tags:
- Basic
- JavaScript
---
# 什麼是函式
{% asset_img function_1.png 800 %}
「函式」指的是將一或多段程式指令包裝起來，可以重複使用，也方便維護。
**函式是物件的一種**

通常一個函式會包含三個部分：
- 函式的名稱 (也可能沒有名稱)
- 在括號 `( )` 中的部分，稱為「參數 (arguments) 」，參數與參數之間會用逗號 `,` 隔開
- 在大括號 `{ }` 內的部分，內含需要**重複執行的內容**，是函式功能的主要區塊。

宣告函式的方法
- 具名函式
使用 `function 名稱(參數) { ... };` 的方式
```javascript
function functionA() {
  console.log('具名函式', '函式陳述式');
  console.log(functionA)
}
functionA()
```
{% note no-icon %}
ƒ functionA() {
  console.log('具名函式', '函式陳述式');
  console.log(functionA)
}
{% endnote %}
- 匿名函式
  透過 `變數名稱 = function(參數){ ... };` 的方式，將一個函式透過 `=` 指定給某個變數。
  ```javascript
  var functionB = function () {
    console.log('匿名函式', '函式表達式');
    console.log(functionB)
  }
  functionB()
  ```
  {% note no-icon %}
  ƒ () {
    console.log('匿名函式', '函式表達式');
    console.log(functionB)
  }
  {% endnote %}
  在匿名函式中，如果想要在 function 後面加上一個名字也是可以的，但是要注意的是，這個名字只在「<font color="red">自己函式的區塊內</font>」有效。
  脫離了函式自身區塊後，變數 `functionD` 就不存在了。
  ```javascript
  var functionC = function functionD() {
    console.log(functionC, functionD)
    //具名函式能在函式內被調用
  }
  functionC()
  console.log(functionC)
  console.log(functionD)  //functionD is not defined
  ```
  {% note no-icon %}
  ƒ functionD() {
    console.log(functionC, functionD)
  } ƒ functionD() {
    console.log(functionC, functionD)
  }
  {% endnote %}

  {% tabs 其他範例 %}
<!-- tab -->
```javascript
var num = 1 ;
var giveMeMoney = function giveMoreMoney(coin) {
  num += 1;
  console.log('執行 giveMeMoney', num, coin);
  return coin > 100 ? coin : giveMoreMoney(num*coin);
}
console.log(giveMeMoney(30))
```
{% note no-icon %}
執行 giveMeMoney 2 30
執行 giveMeMoney 3 60
執行 giveMeMoney 4 180
180
{% endnote %}
<!-- endtab -->

<!-- tab -->
```javascript
function callSomeOne(fn) {
  fn()
}
callSomeOne(function() {console.log('執行函式')})
```
{% note no-icon %}
執行函式
{% endnote %}
<!-- endtab -->
{% endtabs %}

- 透過 `new Function` 關鍵字建立函式
使用 `new Function` (<font color="red">注意 F 大寫</font>) 這個關鍵字來建立函式物件。
使用時將參數與函式的內容依序傳入 `Function`
```javascript
// 透過 new 來建立 Function "物件"
var square = new Function('number', 'return number * number');
```
>透過 `new Function` 所建立的函式物件，每次執行時都會進行解析「字串」(如 `'return number * number'` ) 的動作，運作效能較差，所以通常實務上也較少會這樣做。

# 立即函式