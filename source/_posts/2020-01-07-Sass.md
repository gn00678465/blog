---
title: Sass
date: 2020-01-07 19:10:52
categories:
- CSS
tags:
- CSS
- Sass
---
{% asset_image sass_logo.png %}
{%cq%}
Sass（Syntactically Awesome StyleSheets）是一種 CSS 的擴充，是為 CSS 的超集合（透過編譯會 compiled 成傳統 CSS，讓瀏覽器可以閱讀）。使用 Sass 的出現是為了解決在大型專案時傳統 CSS 會遇到的重複、可維護性差等問題（新增了 nested rules, variables, mixins, selector inheritance 等特性）。讓開發者可以撰寫簡潔、富語意（expressive）、重複性佳（reusable）、可維護性佳和可延展性佳的 CSS 程式碼。
{%endcq%}
<!--more-->

# Syntax 語法
Sass是一個將指令碼解析成CSS的手稿語言，即SassScript。
Sass包括兩套語法。
- SASS（具備不使用大括弧格式、使用縮排，不能直接使用 CSS 語法，檔案名稱為 *.sass）。
>學習曲線較高。
- SCSS (使用和CSS一樣的語法，即使用大括號將不同的規則分開，使用分號將具體的樣式分開，檔案名稱為 *.scss) 。
>學習曲線相對較緩，初學者建議使用 SCSS 語法。

<table>
  <thead>
    <tr>
      <th width="50%">SASS</th>
      <th width="50%">SCSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
      ```SASS
      .button
        padding: 3px 10px
        font-size: 12px
        border-radius: 3px
        border: 1px solid #e1e4e8
      ```
      </td>
      <td>
      ```SCSS
      .button {
        padding: 3px 10px;
        font-size: 12px;
        border-radius: 3px;
        border: 1px solid #e1e4e8;
      }
      ```
      </td>
    </tr>
  </tbody>
</table>

## Comments 註解
>SASS有分兩種註解，這兩種差別是在是否會被編譯出來。

<table>
  <thead>
    <tr>
      <th></th>
      <th><code>//</code></th>
      <th><code>/**/</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>編譯顯示</td>
      <td>不會編譯進CSS，不會顯示出來	</td>
      <td>會編譯進CSS，並顯示出來</td>
    </tr>
    <tr>
      <td>類型</td>
      <td>開發階段 dev</td>
      <td>正式階段 prod</td>
    </tr>
    <tr>
      <td>編譯後檔案容量</td>
      <td>小，不含註解</td>
      <td>大，包含註解</td>
    </tr>
  </tbody>
</table>

## Nesting 巢狀
可以更加清晰地表示元素之間的關係。
>優點：可以把輸出的CSS做整理，很快就看出語法含意。
>缺點：過於多層，CSS會變得很難維護，看的時候語意不清楚。

<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
      ```SCSS
      .nav ul {
        gackground: gray;
        display: flex;
        justify-content: spacer-between;
          > li {
            padding: 0 16px;
          }
      }
      ```
      </td>
      <td>
      {% asset_img Nesting_1.png %}
      </td>
    </tr>
  </tbody>
</table>

<font color='red'>巢狀符號「&」：使用在「before」、「after」等偽元素 和 「hover」「active」等偽類。</font>

<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
      ```SCSS
      a {
        display: block;
        padding: 6px 12px;
        text-decoration: none;
        &::after {
          content: '';
          display: block;
          width: 100%;
          border-bottom: 2px solid #000;
        }
        &:hover {
          gackground: aqua;
        }
      }
      ```
      </td>
      <td>
      {% asset_img Nesting_2.png %}
      </td>
    </tr>
  </tbody>
</table>



# Variables 變數
>Sass支援定義變數，變數可以用來儲存值，方便重複利用。
>變數以美元符號（`$`）作為開頭。變數用冒號（`:`）賦值。

SassScript支援四種資料類型：
- 數值（可包括單位）
- 字串
- 顏色
- 布林類型

變數可以用作函式的參數或返回值。

<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
      ```SCSS
      $blue: #3bbfce;
      $margin: 16px;

      .content-navigation {
        border-color: $blue;
        color: darken($blue, 10%);
      }

      .border {
        padding: $margin;
        margin: $margin;
        border-color: $blue;
      }
      ```
      </td>
      <td>
      {% asset_img variables_1.png %}
      </td>
    </tr>
  </tbody>
</table>

<font size=5>**變數也支援運算**</font>
<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
      ```SCSS
      $blue: #3bbfce;
      $margin: 16px;

      .content-navigation {
        border-color: $blue;
        color: darken($blue, 10%);
      }

      .border {
        padding: $margin / 2;
        margin: $margin / 2;
        font-size: $margin * 2;
        border-color: $blue;
      }
      ```
      </td>
      <td>
      {% asset_img variables_2.png %}
      </td>
    </tr>
  </tbody>
</table>

>須注意幾點，如下：

1. 建議加減乘除統一都用空格相鄰，避免編譯出現錯誤。
2. 單位，css常見的單位類型可分為「絕對單位」和「相對單位」，如下：
<dl>
  <dt>絕對單位</dt>
  <dd>印刷輸出的單位，如px, pt, pc, in, mm, cm…</dd>
  <dt>相對單位</dt>
  <dd>顯示設備的單位，如ex, em, rem…</dd>
</dl>

  1. 絕對和相對單位，不能放一起運算。
  1. 相對單位不能互相運算。
  1. 絕對單位不能相乘。

<font color="red">{% label warning@單位最好不要混搭，只需用一個單位，這樣就減少出錯的機率。 %}</font>

## 變數預設值 !default
可以在變數尚未賦值前，通過在值的最後處添加 `!default` 標記來為其指定。
也就是說，如果該變數已經被賦值，就不會再次賦值；但是，如果還沒有被賦值，就會被指定一個值。

# Interpolation 插值

# At-rule 規則
Sass 支持所有 CSS3 的 `@` 規則， 以及一些 Sass 專屬的規則，也被稱為“指令（directives）”。 這些規則在 Sass 中具有不同的功能。

## @import
Sass 擴充了 CSS 的 `@import` 規則，讓它能夠引入 SCSS 和 Sass 文件。 所有引入的 SCSS 和 Sass 文件都會被合併並輸出一個單一的 CSS 文件。
另外，被導入的文件中所定義的變數或 mixins 都可以在主文件中使用。

```SCSS
@import "foo.scss";
//or
@import "foo";
//兩者都將引入 foo.scss 檔案
```

但在少數幾種情況下，它會被編譯成 CSS 的 @import 規則：
1. 如果檔案的副檔名是 .css。
1. 如果檔案名以 http:// 開頭。
1. 如果檔案名是 url()。
1. 如果 @import 包含了任何 media queries。

<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
      ```SCSS
      @import "foo.css";
      @import "foo" screen;
      @import "http://foo.com/bar";
      @import url(foo);
      ```
      </td>
      <td>
      ```CSS
      @import "foo.css";
      @import "foo" screen;
      @import "http://foo.com/bar";
      @import url(foo);
      ```
      </td>
    </tr>
  </tbody>
</table>

### Partials
如果有一個 SCSS 或 Sass 檔案需要引入， 但又不希望它被編譯為一個 CSS 檔案，這時，你就可以在檔案名前面加一個下底線 `_`，就能避免被編譯。
這將告訴 Sass 不要把它編譯成 CSS 檔案。 然後就可以像往常一樣引入這個檔案了，並且還可以省略掉檔案名前面的下劃線。

{%note primary%}
有一個檔案叫做 _colors.scss。 這樣就不會生成 _colors.css 檔案了， 而且還可以使用
```SCSS
@import "colors";
```
來引入 _colors.scss 檔案。
{%endnote%}
<font color='red'>{% label danger@注意，在同一個目錄下不能同時存在帶下底線和不帶下底線的同名檔案。 %}</font>

## @mixin and @include
{% note info %}
- 使用時機：需要大量重複使用到的屬性。
- 使用目的：建立專屬語法資料庫。
- @minix 需對應 @include
{% endnote %}

<font size=5>語法</font>
<pre class="syntaxbox">
@mixin 名稱 { 語法內容 };    /* 建立 */

.selector {
  @include 名稱;        /* 引入 */
}
</pre>

<font size=5>進階用法</font>
- **與變數搭配**
<font size=4>語法</font>

```SCSS
/* 變數可設多個 */
@mixin 名稱 ($var1, $var2,...) {
  css語法:$var1;
  css語法:$var2;
};
/* 引入 */
/* 引入 */
selector {
  @include ($var1, $var2,...) 名稱
}
```
{% note warning noicon %}
於 `@include` 名稱後面的小括號內設定參數數值，需依照 `@mixin` 所設定的變數順序來設定數值；
如無照順序的情況下，SASS編譯不會出現錯誤，但會讓網頁排版錯誤。
{% endnote %}

- **與響應式搭配**
<font size=4>語法</font>

```SCSS
/* 建立 */
@mixin + 名稱 {
  @media (裝置寬度) {
    @content
  }
};
/* 引入 */
selector {
  @include + 名稱(){
    內容
  }
}
```
{% note primary %}
1. `@media` 裡面只要填 `@content`。
1. 用 `@include` + 名稱() 引入， 裡面填上 `@media` 的css樣式。
{% endnote %}

## @function
{% note info %}
使用時機：搭配變數和mixin使用。
{%endnote%}

使用流程如下:
1. 給予「變數」設定基礎數值。
```SCSS
/*設定變數基礎數值*/
$basePadding: 10px;
```
1. 給予function名稱，讓scss可套用。
```SCSS
@function padding() {}
```
1. function內新增參數並設定預設值。
```SCSS
@function padding( $index: 1) {}
/*小括弧內為參數，在此為$變數: 1 ，預設值為 1 */
```
1. function內設定運算公式。
```SCSS
@function padding( $index: 1) {
  @return $basePadding * $index;
}
```
1. 引入function。
```CSS
selector {
  css樣式: function名稱 (參數);
}
```

- funtion接多個參數
>可把「變數」放在裡面。
```SCSS
@function padding( $index: 1, $basePadding: 10px) {
  @return $basePadding * $index;
}

selector {
  css樣式: function名稱 ($index, $basePadding);
}
```

## @extend

## 進階使用
### mixin和function: 運算程式模組化
{% note no-icon%}
1. 設定變數 `$basePadding`，他的值為 10px。
1. 建立名叫做 padding的 `@function`，為運算程式，預設值為 1 。
1. `@function` 內容裡面分兩部分: `@if` 和 `@return`。
1. 使用 `@mixin`，裡面的內容是 `@function`，如果有多個 `@function`，可一次全部帶入到css中。
{% endnote %}

<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        ```SCSS
        //建立程式
        $basePadding: 10px;
        @function padding( $index: 1) {
          @if $index < 1 {
            $index: 1;
          }
          @return $basePadding * $index;
        }
        @mixin a ( $index:1 ) {
          padding-left: padding($index);
          padding-right: padding($index);
        };

        //引入
        .px {
          @include a(3)
        }
        ```
      </td>
      <td>
        ```CSS
        .px {
          padding-left: 30px;
          padding-right: 30px;
        }
        ```
      </td>
    </tr>
  </tbody>
</table>

## Flow control 流程控制

### @if and @else
{% note info %}
`@if` 用在判斷條件如果符合，就執行內容。
`@else` 是如果在 `@if` 中不符合條件，則執行 `@else` 的內容。
{%endnote%}

<font size=5>語法：</font>
<pre class="syntaxbox">
@if (expression) { ... }
@else { ... }
</pre>

### @each
<font size=5>語法：</font>
<pre class="syntaxbox">@each $var in ( list or map ) {}</pre>

- With list
>list是一個SassScript表達式。
<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
      ```SCSS
      @each $var in ( normal, bold  ) {
        .font-#{$var} {
          font-weight: $var;
        }
      }
      ```
      </td>
      <td>
        {% asset_img each_list.PNG%}
      </td>
    </tr>
  </tbody>
</table>

- With Maps
{% note info %}
Maps是Sass Maps，於Sass 3.3所提供另一種變數的設定方式。
類似 json 內 `key` 與 `value` 的概念。
`$name`就是map裡面，`key` 的值 (normal, ...)。
`$value`就是map裡面，`value` 的值 (flex-start, ...)。
{%endnote%}
<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
      ```SCSS
      $flex_posi: ( 
        "normal":"flex-start",
        "end":"flex-end",
        "center":"center",
        "between":"spacer-between",
        "rounder":"spacer-rounder"
        );
      @each $name, $value in $flex_posi {
        .justify-content-#{$name} {
          justify-content: $value;
        }
      }
      ```
      </td>
      <td>
        {% asset_img each_map.PNG%}
      </td>
    </tr>
  </tbody>
</table>

### @for
>sass for迴圈有兩種語法 :

- 從start開始到end結束
<pre class="syntaxbox">
@for $var from (start) through (end)
</pre>
```SCSS
@for $var from <start> through <end>
```
{% note no-icon %}
從整個循環都跑一遍。
透過 `#{ }` 轉為css可用的數值。
{% endnote %}
<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        ```SCSS
        @for $var from 1 through 5 {
          .padding-#{$var} {
            padding: 10px * $var;
          }
        }
        ```
      </td>
      <td>
      {% asset_img for_1.png %}
      </td>
    </tr>
  </tbody>
</table>

- 從start開始,碰到end就結束
<pre class="syntaxbox">
@for $var from (start) to (end)
</pre>
{% note no-icon %}
從 `start` 開始碰到 `end` 就結束，所以沒有套用到 `end`。
因此大部分使用sass的for迴圈都是使用 `@for $var from through`。
{% endnote %}
<table>
  <thead>
    <tr>
      <th width="50%">SCSS</th>
      <th width="50%">CSS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        ```SCSS
        @for $var from 1 to 5 {
          .padding-#{$var} {
            padding: 10px * $var;
          }
        }
        ```
      </td>
      <td>
      {% asset_img for_2.png %}
      </td>
    </tr>
  </tbody>
</table>

### @while
>while 只要條件符合 true ，就會一直跑下去，除非手動停止，否則很容易形成無限迴圈也因此稍有不慎會影響電腦效能。

<font size=5>語法：</font>
<pre class="syntaxbox">
@while (expression) { ... }
</pre>

```SCSS
@function scale-below($value, $base, $ratio: 1.618) {
  @while $value > $base {
    $value: $value / $ratio;
  }
  @return $value;
}

$normal-font-size: 16px;
sup {
  font-size: scale-below(20px, 16px);
}
```

# Operators 運算子

## Equality

## Relational

## Numeric

## String

## Boolean

