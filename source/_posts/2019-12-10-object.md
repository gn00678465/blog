---
title: 物件 object
date: 2019-12-10 21:58:12
tags:
- JavaScript
---

{% cq %}
物件是一批相關的數據以及/或者功能（通常包含了幾個變數及函式 — 當它們包含在物件中時被稱做「屬性」（properties）或「函式」（methods））。
{% endcq %}

<!--more-->

# 物件結構
物件宣告方式有兩種
1. 物件實字(Object Literals)
宣告一個物件名稱，並於賦值運算子後方填入`{}`作為區塊宣告。
```javascript
var 物件名稱 = {}
```
{% note info %}
+ 物件本身的組成是由一個 {屬性(property) : 值(value)} 組成的，屬性的值可以是任何合法的值，可以包含陣列、函式或其他物件。
+ 如果是一般的值的情況，稱為"屬性(property, prop)"，如果是一個函式，稱之為"方法(method)"。屬性與方法我們通常合稱為物件中的成員(member)。
+ 物件中的每一個成員(member)須以`,`相隔。
+ 屬性定義上一律為字串，固可使用特殊字元。
{% endnote %}
```javascript
var object = {
  properties: value,  //屬性: 值(可為number or string)
  array: [],
  object: {},
  holloworld: function() {    //方法: 值
    console.log('Hello World')
  } 
}
```
{% note no-icon %}屬性名稱(鍵)中也不要使用保留字，請使用合法的變數名稱{% endnote %}
2. 建構式方式
通常用於建構新物件中的屬性。
```javascript
var 物件名稱 = new Object();
```
{% note warning%}多數情況請使用物件實字(Object Literals)宣告物件{% endnote %}

參考：
[從ES6開始的JavaScript學習生活-物件](https://eyesofkids.gitbooks.io/javascript-start-from-es6/content/part3/object.html)

# 物件取值、新增、刪除
物件取值取值、新增、刪除有以下兩種，分別為
1. **點記法 (Dot notation)**
  可透過點記法 (Dot notation) 存取物件的屬性與函式。
  物件名稱作為**命名空間 (Namespace)**，接著寫一個"<font color='red'>**.**</font>"以及想取值、新增、刪除的屬性 or 方法名稱。
  點記法只可接受字串表示的成員名稱，不能是指向變數名稱。
  + 取值
    ```javascript
    物件名稱.屬性名稱
    物件名稱.子物件名稱.屬性名稱    //巢狀物件
    物件名稱.方法名稱()            //函式取值
    ```
  + 更新(新增)
  透過賦值運算子將值賦予現有屬性與函式的數值，也可以建立全新的成員。
    ```javascript
    物件名稱.屬性名稱 = 值
    物件名稱.方法名稱 = function() {console.log('hello world')}  //新增函式
    ```
  + 刪除
  使用一元運算子`delete`刪除現有屬性與函式的數值。
  ```javascript
    delete 物件名稱.屬性名稱
    delete 物件名稱.方法名稱    //刪除函式
    ```
1. **括弧記法 (Bracket notation)**
  括弧記法 (Bracket notation) 是另一種存取物件屬性的方法。
  將要存取屬性名稱使用"<font color='red'>**[]**</font>"包覆起來。
  如屬性名稱為**變數值**可使用括弧記法。
  + 取值
    ```javascript
    物件名稱['屬性名稱']
    物件名稱[變數名稱]
    物件名稱[方法名稱]()  //函式取值
    ```
  + 新增
  透過賦值運算子將值賦予現有屬性與函式的數值，也可以建立全新的成員，與點記法相同。
    ```javascript
    物件名稱['屬性名稱'] = 值
    物件名稱[變數名稱] = 變數值
    物件名稱['方法名稱']()  //函式
    ```
  + 刪除
  使用一元運算子`delete`刪除現有屬性與函式的數值，與點記法相同。
  ```javascript
    delete 物件名稱['屬性名稱']
    delete 物件名稱['方法名稱']  //函式
    ```
  {% note no-icon %}
  <font size=2>此方式與陣列取值方式相似，陣列取值使用指數  (index number) 選擇項目；而括弧記法 (Bracket notation)取值是透過各成員數值相關的名稱來選擇項目。</font>
  {% endnote %}

補充：
**變數無法被刪除，屬性才能被刪除。**
使用 var 宣告變數，此變數無法被刪除。
如直接使用賦值運算子賦予一個值，類似於全域變數下新增一個屬性`window.property = value`。
```javascript
var a = 1        //宣告變數  a = 1
aa = 1           //類似windows.a = 1
delete a         //false
console.log(a)   //1  
delete aa        //true
console.log(aa)  //aa is not defined
```

# 物件與純值
+ 純值(Primitive Types)又稱為原始型別，可參考：。
  + 使用建立的純值無法新增屬性。
  ```javascript
  var name = '小明'
  console.log(name)   //小明
  name.age = 30
  console.log(name)   //小明
  ```
  + 使用建構式建立則變為物件型別，便可以新增屬性。
  ```javascript
  var newName = new String('小明')
  console.log(newName));   //String {"小明"}
  newName.age = 30;
  console.log(newName);   //String {"小明", age: 30}
  ```
+ 未定義的物件屬性預設值
  物件下未定義屬性的值為undefined，並於undefined下無法新增任何屬性。

# 物件的參考特性
{% asset_img object-1.png 800 [傳值 vs 傳參考] %}
+ 傳值(Call By Value)：
  把 {%label primary@值%} 傳到 {%label danger@另一個記憶體位置%} 的 {%label primary@值%} 上。
  {% note no-icon %}
  當宣告一個 primitive type 的變數時（如：數字、字串、布林），假設把 preson 指定成一個 primitive type 的時候，preson 會在記憶體中存在一個自己的位置（0x01）。當指定另一個變數 `preson2 = preson` 的時候，preson2 實際上會建立另一個獨立的記憶體位置（假設叫做0x02），接著再把 preson 的值存在這個獨立的記憶體位置。
  preson 和 preson2 其實是存在於兩個不同的記憶體位置，因此彼此並不會乎相干擾影響，當修改preson2的值時，preson仍不會變。
  {% endnote %}
{% gp 3-1 %}
{% asset_img object-2.png %}
{% asset_img object-3.png %}
{% asset_img object-4.png %}
{% endgp %}
{% note info %}
在 JavaScript 中 primitive type（Boolean, String, Number, null, undefined）都屬於 Call By Value。
{% endnote %}
+ 傳參考
  是把{%label danger@記憶體位置%} 傳到 {%label danger@另一個記憶體位置%} 的 {%label primary@值%} 上。
  {% note no-icon %}
  當建立一個 preson 為 Object(或function) 時，preson 會在記憶體中建立一個自己的位置（0x01）。當指定另一個變數 `preson2 = preson` 的時候，這時候並不會給 preson2 一個新的位置，而是一樣指定到物件 preson 的位置（即0x01）。
  物件 preson 和 preson2 都會被指稱到相同的位置（即0x01），因此，當 preson 的值改變的時候 preson 的值也會改變。
  {% endnote %}
  {% gp 4-3 %}
{% asset_img object-5.png %}
{% asset_img object-6.png %}
{% asset_img object-7.png %}
{% asset_img object-8.png %}
{% endgp %}

  {% gp 3-1 %}
{% asset_img object-10.png %}
{% asset_img object-11.png %}
{% endgp %}


